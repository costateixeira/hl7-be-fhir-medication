<?xml version="1.0" encoding="UTF-8"?>

<ExampleScenario xmlns="http://hl7.org/fhir">
  <id value="example-6-scenario"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><p><b>Generated Narrative</b></p><p><b>url</b>: <code>https://www.hl7belgium.be/fhir/ExampleScenario/example-6-scenario</code></p><p><b>version</b>: 0.2.0</p><p><b>name</b>: DispensePrescriptionAndIsolatedDispense</p><p><b>status</b>: draft</p><p><b>experimental</b>: false</p><p><b>date</b>: Sep 10, 2019, 11:00:00 PM</p><p><b>publisher</b>: HL7 Belgium</p><p><b>contact</b>: <a href="http://hl7belgium.org">http://hl7belgium.org</a></p><p><b>jurisdiction</b>: <span title="Codes: {http://unstats.un.org/unsd/methods/m49/m49.htm 056}">Belgium</span></p><blockquote><p><b>actor</b></p><p><b>actorId</b>: PATIENT</p><p><b>type</b>: person</p><p><b>name</b>: Pia Peters</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: GP</p><p><b>type</b>: person</p><p><b>name</b>: Dr. Durant</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: VAULT</p><p><b>type</b>: entity</p><p><b>name</b>: Vault</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: PHARM</p><p><b>type</b>: person</p><p><b>name</b>: Pharmacist</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 6-medication-presc</p><p><b>resourceType</b>: MedicationRequest</p><p><b>name</b>: New prescription</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: EB</p><p><b>resourceType</b>: Bundle</p><p><b>name</b>: Empty Bundle</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 6-medication-treatmentLine</p><p><b>resourceType</b>: MedicationStatement</p><p><b>name</b>: New Treatment Line based on prescription</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 6-medication-treatment</p><p><b>resourceType</b>: CarePlan</p><p><b>name</b>: New Treatment based on prescription</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 6-medication-dispense</p><p><b>resourceType</b>: MedicationDispense</p><p><b>name</b>: Refused Dispense</p></blockquote><blockquote><p><b>process</b></p><p><b>title</b>: Change brand from prescription on dispense because of out of stock</p><p><b>description</b>: description</p><p><b>preConditions</b>: The patient visits their GP and is prescribed ibuprofen 400 mg cp (TID) for headaches. The pharmacist, after a conversation with the patient, got to know that he was doing Tritace (ramipril) 10 mg for hypertension.Since the ibuprofen interacts with ramipril, the pharmacist chose to refuse the dispense of the medication.</p><p><b>postConditions</b>: It is possible to capture that the original prescription was and that the dispense was refused</p><blockquote><p><b>step</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Number</b></td><td><b>Name</b></td><td><b>Initiator</b></td><td><b>Receiver</b></td></tr><tr><td>*</td><td>1</td><td>Goes to appointment</td><td>PATIENT</td><td>GP</td></tr></table></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 2</p><p><b>name</b>: Get Patient's Medication</p><p><b>initiator</b>: GP</p><p><b>receiver</b>: VAULT</p><h3>Responses</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>EB</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 3</p><p><b>name</b>: Create new prescription</p><p><b>initiator</b>: GP</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>6-medication-presc</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 4</p><p><b>name</b>: Create new treatment</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>6-medication-treatment</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 5</p><p><b>name</b>: Create new treatment Line</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>6-medication-treatmentLine</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 6</p><p><b>name</b>: Get patient's Prescriptions</p><p><b>initiator</b>: PHARM</p><p><b>receiver</b>: VAULT</p><h3>Responses</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>EB</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 7</p><p><b>name</b>: Refuse Dispense</p><p><b>initiator</b>: PHARM</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>6-medication-dispense</td></tr></table></blockquote></blockquote></blockquote></div>
  </text>
  <url value="https://www.hl7belgium.be/fhir/ExampleScenario/example-6-scenario"/>
  <version value="0.2.0"/>
  <name value="DispensePrescriptionAndIsolatedDispense"/>
  <status value="draft"/>
  <experimental value="false"/>
  <date value="2019-09-11T00:00:00.000+01:00"/>
  <publisher value="HL7 Belgium"/>
  <contact>
    <telecom>
      <system value="url"/>
      <value value="http://hl7belgium.org"/>
    </telecom>
  </contact>
  <jurisdiction>
    <coding>
      <system value="http://unstats.un.org/unsd/methods/m49/m49.htm"/>
      <code value="056"/>
    </coding>
    <text value="Belgium"/>
  </jurisdiction>
  <actor>
    <actorId value="PATIENT"/>
    <type value="person"/>
    <name value="Pia Peters"/>
  </actor>
  <actor>
    <actorId value="GP"/>
    <type value="person"/>
    <name value="Dr. Durant"/>
  </actor>
  <actor>
    <actorId value="VAULT"/>
    <type value="entity"/>
    <name value="Vault"/>
  </actor>
  <actor>
    <actorId value="PHARM"/>
    <type value="person"/>
    <name value="Pharmacist"/>
  </actor>
  <instance>
    <resourceId value="6-medication-presc"/>
    <resourceType value="MedicationRequest"/>
    <name value="New prescription"/>
  </instance>
  <instance>
    <resourceId value="EB"/>
    <resourceType value="Bundle"/>
    <name value="Empty Bundle"/>
  </instance>
  <instance>
    <resourceId value="6-medication-treatmentLine"/>
    <resourceType value="MedicationStatement"/>
    <name value="New Treatment Line based on prescription"/>
  </instance>
  <instance>
    <resourceId value="6-medication-treatment"/>
    <resourceType value="CarePlan"/>
    <name value="New Treatment based on prescription"/>
  </instance>
  <instance>
    <resourceId value="6-medication-dispense"/>
    <resourceType value="MedicationDispense"/>
    <name value="Refused Dispense"/>
  </instance>
  <process>
    <title value="Change brand from prescription on dispense because of out of stock"/>
    <description value="description"/>
    <preConditions value="The patient visits their GP and is prescribed ibuprofen 400 mg cp (TID) for headaches. The pharmacist, after a conversation with the patient, got to know that he was doing Tritace (ramipril) 10 mg for hypertension.Since the ibuprofen interacts with ramipril, the pharmacist chose to refuse the dispense of the medication."/>
    <postConditions value="It is possible to capture that the original prescription was and that the dispense was refused"/>
    <step>
      <operation>
        <number value="1"/>
        <name value="Goes to appointment"/>
        <initiator value="PATIENT"/>
        <receiver value="GP"/>
      </operation>
    </step>
    <step>
      <operation>
        <number value="2"/>
        <name value="Get Patient&#39;s Medication"/>
        <initiator value="GP"/>
        <receiver value="VAULT"/>
        <response>
          <resourceId value="EB"/>
        </response>
      </operation>
    </step>
    <step>
      <operation>
        <number value="3"/>
        <name value="Create new prescription"/>
        <initiator value="GP"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="6-medication-presc"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="4"/>
        <name value="Create new treatment"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="6-medication-treatment"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="5"/>
        <name value="Create new treatment Line"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="6-medication-treatmentLine"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="6"/>
        <name value="Get patient&#39;s Prescriptions"/>
        <initiator value="PHARM"/>
        <receiver value="VAULT"/>
        <response>
          <resourceId value="EB"/>
        </response>
      </operation>
    </step>
    <step>
      <operation>
        <number value="7"/>
        <name value="Refuse Dispense"/>
        <initiator value="PHARM"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="6-medication-dispense"/>
        </request>
      </operation>
    </step>
  </process>
</ExampleScenario>