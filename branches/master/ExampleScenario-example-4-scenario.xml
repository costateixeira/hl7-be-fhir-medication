<?xml version="1.0" encoding="UTF-8"?>

<ExampleScenario xmlns="http://hl7.org/fhir">
  <id value="example-4-scenario"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><p><b>Generated Narrative</b></p><p><b>url</b>: <code>https://www.hl7belgium.be/fhir/ExampleScenario/example-4-scenario</code></p><p><b>version</b>: 0.2.0</p><p><b>name</b>: DispensePrescriptionAndIsolatedDispense</p><p><b>status</b>: draft</p><p><b>experimental</b>: false</p><p><b>date</b>: Sep 10, 2019, 11:00:00 PM</p><p><b>publisher</b>: HL7 Belgium</p><p><b>contact</b>: <a href="http://hl7belgium.org">http://hl7belgium.org</a></p><p><b>jurisdiction</b>: <span title="Codes: {http://unstats.un.org/unsd/methods/m49/m49.htm 056}">Belgium</span></p><blockquote><p><b>actor</b></p><p><b>actorId</b>: PATIENT</p><p><b>type</b>: person</p><p><b>name</b>: Pia Peters</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: GP</p><p><b>type</b>: person</p><p><b>name</b>: Dr. Durant</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: VAULT</p><p><b>type</b>: entity</p><p><b>name</b>: Vault</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: PHARM</p><p><b>type</b>: person</p><p><b>name</b>: Pharmacist</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 4-1-dispense</p><p><b>resourceType</b>: MedicationDispense</p><p><b>name</b>: Dispense for Prescription</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 4-1-prescription</p><p><b>resourceType</b>: MedicationRequest</p><p><b>name</b>: New prescription</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 4-2-dispense</p><p><b>resourceType</b>: MedicationDispense</p><p><b>name</b>: Isolated dispense</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: EB</p><p><b>resourceType</b>: Bundle</p><p><b>name</b>: Empty Bundle</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 4-1-treatmentLine</p><p><b>resourceType</b>: MedicationStatement</p><p><b>name</b>: New Treatment Line based on prescription</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 4-1-treatment</p><p><b>resourceType</b>: CarePlan</p><p><b>name</b>: New Treatment based on prescription</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 4-2-treatmentLine</p><p><b>resourceType</b>: MedicationStatement</p><p><b>name</b>: New Treatment Line based on dispense</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 4-2-treatment</p><p><b>resourceType</b>: CarePlan</p><p><b>name</b>: New Treatment based on dispense</p></blockquote><blockquote><p><b>process</b></p><p><b>title</b>: Dispense of prescribed medication, and dispense of a product that can be done without a prescription</p><p><b>description</b>: description</p><p><b>preConditions</b>: The patient visits their GP and is prescribed Rosuvastatin 10 mg cp for cholesterol. After reaching the pharmacy, Crestor 10 is dispensed facing that prescription. Additionally, Dafalgan compr. 20x 500mg (OTC) is also dispensed due to a complaint of a minor toothache.</p><p><b>postConditions</b>: This should result in two treatment lines. One with prescription and dispense and one with only dispense.</p><blockquote><p><b>step</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Number</b></td><td><b>Name</b></td><td><b>Initiator</b></td><td><b>Receiver</b></td></tr><tr><td>*</td><td>1</td><td>Goes to appointment</td><td>PATIENT</td><td>GP</td></tr></table></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 2</p><p><b>name</b>: Get Patient's Medication</p><p><b>initiator</b>: GP</p><p><b>receiver</b>: VAULT</p><h3>Responses</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>EB</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 3</p><p><b>name</b>: Create new prescription</p><p><b>initiator</b>: GP</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>4-prescription</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 4</p><p><b>name</b>: Create new treatment</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>4-1-treatment</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 5</p><p><b>name</b>: Create new treatment Line</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>4-1-treatmentLine</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 6</p><p><b>name</b>: Get patient's Prescriptions</p><p><b>initiator</b>: PHARM</p><p><b>receiver</b>: VAULT</p><h3>Responses</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>EB</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 7</p><p><b>name</b>: Dispense new product</p><p><b>initiator</b>: PHARM</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>4-1-dispense</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 8</p><p><b>name</b>: Additional dispense</p><p><b>initiator</b>: PHARM</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>4-2-dispense</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 8</p><p><b>name</b>: Additional treatment</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>4-2-treatment</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 9</p><p><b>name</b>: Additional Treatment Line</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>4-2-treatmentLine</td></tr></table></blockquote></blockquote></blockquote></div>
  </text>
  <url value="https://www.hl7belgium.be/fhir/ExampleScenario/example-4-scenario"/>
  <version value="0.2.0"/>
  <name value="DispensePrescriptionAndIsolatedDispense"/>
  <status value="draft"/>
  <experimental value="false"/>
  <date value="2019-09-11T00:00:00.000+01:00"/>
  <publisher value="HL7 Belgium"/>
  <contact>
    <telecom>
      <system value="url"/>
      <value value="http://hl7belgium.org"/>
    </telecom>
  </contact>
  <jurisdiction>
    <coding>
      <system value="http://unstats.un.org/unsd/methods/m49/m49.htm"/>
      <code value="056"/>
    </coding>
    <text value="Belgium"/>
  </jurisdiction>
  <actor>
    <actorId value="PATIENT"/>
    <type value="person"/>
    <name value="Pia Peters"/>
  </actor>
  <actor>
    <actorId value="GP"/>
    <type value="person"/>
    <name value="Dr. Durant"/>
  </actor>
  <actor>
    <actorId value="VAULT"/>
    <type value="entity"/>
    <name value="Vault"/>
  </actor>
  <actor>
    <actorId value="PHARM"/>
    <type value="person"/>
    <name value="Pharmacist"/>
  </actor>
  <instance>
    <resourceId value="4-1-dispense"/>
    <resourceType value="MedicationDispense"/>
    <name value="Dispense for Prescription"/>
  </instance>
  <instance>
    <resourceId value="4-1-prescription"/>
    <resourceType value="MedicationRequest"/>
    <name value="New prescription"/>
  </instance>
  <instance>
    <resourceId value="4-2-dispense"/>
    <resourceType value="MedicationDispense"/>
    <name value="Isolated dispense"/>
  </instance>
  <instance>
    <resourceId value="EB"/>
    <resourceType value="Bundle"/>
    <name value="Empty Bundle"/>
  </instance>
  <instance>
    <resourceId value="4-1-treatmentLine"/>
    <resourceType value="MedicationStatement"/>
    <name value="New Treatment Line based on prescription"/>
  </instance>
  <instance>
    <resourceId value="4-1-treatment"/>
    <resourceType value="CarePlan"/>
    <name value="New Treatment based on prescription"/>
  </instance>
  <instance>
    <resourceId value="4-2-treatmentLine"/>
    <resourceType value="MedicationStatement"/>
    <name value="New Treatment Line based on dispense"/>
  </instance>
  <instance>
    <resourceId value="4-2-treatment"/>
    <resourceType value="CarePlan"/>
    <name value="New Treatment based on dispense"/>
  </instance>
  <process>
    <title value="Dispense of prescribed medication, and dispense of a product that can be done without a prescription"/>
    <description value="description"/>
    <preConditions value="The patient visits their GP and is prescribed Rosuvastatin 10 mg cp for cholesterol. After reaching the pharmacy, Crestor 10 is dispensed facing that prescription. Additionally, Dafalgan compr. 20x 500mg (OTC) is also dispensed due to a complaint of a minor toothache."/>
    <postConditions value="This should result in two treatment lines. One with prescription and dispense and one with only dispense."/>
    <step>
      <operation>
        <number value="1"/>
        <name value="Goes to appointment"/>
        <initiator value="PATIENT"/>
        <receiver value="GP"/>
      </operation>
    </step>
    <step>
      <operation>
        <number value="2"/>
        <name value="Get Patient&#39;s Medication"/>
        <initiator value="GP"/>
        <receiver value="VAULT"/>
        <response>
          <resourceId value="EB"/>
        </response>
      </operation>
    </step>
    <step>
      <operation>
        <number value="3"/>
        <name value="Create new prescription"/>
        <initiator value="GP"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="4-prescription"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="4"/>
        <name value="Create new treatment"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="4-1-treatment"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="5"/>
        <name value="Create new treatment Line"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="4-1-treatmentLine"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="6"/>
        <name value="Get patient&#39;s Prescriptions"/>
        <initiator value="PHARM"/>
        <receiver value="VAULT"/>
        <response>
          <resourceId value="EB"/>
        </response>
      </operation>
    </step>
    <step>
      <operation>
        <number value="7"/>
        <name value="Dispense new product"/>
        <initiator value="PHARM"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="4-1-dispense"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="8"/>
        <name value="Additional dispense"/>
        <initiator value="PHARM"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="4-2-dispense"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="8"/>
        <name value="Additional treatment"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="4-2-treatment"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="9"/>
        <name value="Additional Treatment Line"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="4-2-treatmentLine"/>
        </request>
      </operation>
    </step>
  </process>
</ExampleScenario>