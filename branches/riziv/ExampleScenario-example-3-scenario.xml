<?xml version="1.0" encoding="UTF-8"?>

<ExampleScenario xmlns="http://hl7.org/fhir">
  <id value="example-3-scenario"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><p><b>Generated Narrative</b></p><p><b>url</b>: <code>http://hl7belgium.org/fhir/riziv-medicationrecord/ExampleScenario/example-3-scenario</code></p><p><b>version</b>: 0.1.0-test</p><p><b>name</b>: DispenseBeforePrescription</p><p><b>status</b>: draft</p><p><b>experimental</b>: false</p><p><b>date</b>: Sep 10, 2019, 11:00:00 PM</p><p><b>publisher</b>: HL7 Belgium</p><p><b>contact</b>: <a href="http://hl7belgium.org">http://hl7belgium.org</a></p><p><b>jurisdiction</b>: <span title="Codes: {urn:iso:std:iso:3166 BE}">Belgium</span></p><blockquote><p><b>actor</b></p><p><b>actorId</b>: PATIENT</p><p><b>type</b>: person</p><p><b>name</b>: Pia Peters</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: GP</p><p><b>type</b>: person</p><p><b>name</b>: Dr. Durant</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: VAULT</p><p><b>type</b>: entity</p><p><b>name</b>: Vault</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: PHARM</p><p><b>type</b>: person</p><p><b>name</b>: Pharmacist</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 3-dispense</p><p><b>resourceType</b>: MedicationDispense</p><p><b>name</b>: Dispense of product prescribed</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: EB</p><p><b>resourceType</b>: Bundle</p><p><b>name</b>: Empty Bundle</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 3-treatmentLine</p><p><b>resourceType</b>: MedicationStatement</p><p><b>name</b>: New Treatment Line</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 3-treatment</p><p><b>resourceType</b>: CarePlan</p><p><b>name</b>: New Treatment</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 3-prescription</p><p><b>resourceType</b>: MedicationRequest</p><p><b>name</b>: Original Prescription</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 3-2-dispense</p><p><b>resourceType</b>: MedicationDispense</p><p><b>name</b>: Ancilliary Dispense of a product</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 3-2-prescription</p><p><b>resourceType</b>: MedicationRequest</p><p><b>name</b>: New Prescription</p></blockquote><blockquote><p><b>process</b></p><p><b>title</b>: Dispense of medication before a existing prescription</p><p><b>description</b>: description</p><p><b>preConditions</b>: After a GP visit, the patient Pia Peters (75 years) is prescribed diclofenac for arthritis.While making the dispense, the pharmacist understands that the patient has a history of stomachal ulcers. Since diclofenac creates stomachal irritations, the pharmacy also dispenses a stomach protector to prevent any case of stomach irritation or bleeding and advises to tell the information to the GP.</p><p><b>postConditions</b>: A new treatment and treatmentLine are created, inside the new treatment line, a prescription and dispense are contained and is possible to see which medication is associated with each.</p><blockquote><p><b>step</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Number</b></td><td><b>Name</b></td><td><b>Initiator</b></td><td><b>Receiver</b></td></tr><tr><td>*</td><td>1</td><td>Goes to appointment</td><td>PATIENT</td><td>GP</td></tr></table></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 2</p><p><b>name</b>: Get Patient's Medication</p><p><b>initiator</b>: GP</p><p><b>receiver</b>: VAULT</p><h3>Responses</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>EB</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 3</p><p><b>name</b>: Create new prescription</p><p><b>initiator</b>: GP</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-prescription</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 4</p><p><b>name</b>: Create new treatment</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-treatment</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 5</p><p><b>name</b>: Create new treatment Line</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-treatmentLine</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 6</p><p><b>name</b>: Get patient's Prescriptions</p><p><b>initiator</b>: PHARM</p><p><b>receiver</b>: VAULT</p><h3>Responses</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>EB</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 7</p><p><b>name</b>: Dispense original dispense</p><p><b>initiator</b>: PHARM</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-dispense</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 8</p><p><b>name</b>: Dispense ancilliary product</p><p><b>initiator</b>: PHARM</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-2-dispense</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 9</p><p><b>name</b>: Update treatment</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-treatment</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 10</p><p><b>name</b>: Update treatment Line</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-treatmentLine</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Number</b></td><td><b>Name</b></td><td><b>Initiator</b></td><td><b>Receiver</b></td></tr><tr><td>*</td><td>11</td><td>Report of situation</td><td>PHARM</td><td>GP</td></tr></table></blockquote><blockquote><p><b>step</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Number</b></td><td><b>Name</b></td><td><b>Initiator</b></td><td><b>Receiver</b></td></tr><tr><td>*</td><td>12</td><td>Goes to new appointment</td><td>PATIENT</td><td>GP</td></tr></table></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 13</p><p><b>name</b>: Get Patient's Medication</p><p><b>initiator</b>: GP</p><p><b>receiver</b>: VAULT</p><h3>Responses</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>EB</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 14</p><p><b>name</b>: Create new prescription</p><p><b>initiator</b>: GP</p><p><b>receiver</b>: VAULT</p><h3>Responses</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-2-prescription</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 15</p><p><b>name</b>: Update treatment</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-treatment</td></tr></table></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>operation</b></p><p><b>number</b>: 16</p><p><b>name</b>: Update treatment Line</p><p><b>initiator</b>: VAULT</p><p><b>receiver</b>: VAULT</p><h3>Requests</h3><table class="grid"><tr><td>-</td><td><b>ResourceId</b></td></tr><tr><td>*</td><td>3-treatmentLine</td></tr></table></blockquote></blockquote></blockquote></div>
  </text>
  <url value="http://hl7belgium.org/fhir/riziv-medicationrecord/ExampleScenario/example-3-scenario"/>
  <version value="0.1.0-test"/>
  <name value="DispenseBeforePrescription"/>
  <status value="draft"/>
  <experimental value="false"/>
  <date value="2019-09-11T00:00:00.000+01:00"/>
  <publisher value="HL7 Belgium"/>
  <contact>
    <telecom>
      <system value="url"/>
      <value value="http://hl7belgium.org"/>
    </telecom>
  </contact>
  <jurisdiction>
    <coding>
      <system value="urn:iso:std:iso:3166"/>
      <code value="BE"/>
    </coding>
  </jurisdiction>
  <actor>
    <actorId value="PATIENT"/>
    <type value="person"/>
    <name value="Pia Peters"/>
  </actor>
  <actor>
    <actorId value="GP"/>
    <type value="person"/>
    <name value="Dr. Durant"/>
  </actor>
  <actor>
    <actorId value="VAULT"/>
    <type value="entity"/>
    <name value="Vault"/>
  </actor>
  <actor>
    <actorId value="PHARM"/>
    <type value="person"/>
    <name value="Pharmacist"/>
  </actor>
  <instance>
    <resourceId value="3-dispense"/>
    <resourceType value="MedicationDispense"/>
    <name value="Dispense of product prescribed"/>
  </instance>
  <instance>
    <resourceId value="EB"/>
    <resourceType value="Bundle"/>
    <name value="Empty Bundle"/>
  </instance>
  <instance>
    <resourceId value="3-treatmentLine"/>
    <resourceType value="MedicationStatement"/>
    <name value="New Treatment Line"/>
  </instance>
  <instance>
    <resourceId value="3-treatment"/>
    <resourceType value="CarePlan"/>
    <name value="New Treatment"/>
  </instance>
  <instance>
    <resourceId value="3-prescription"/>
    <resourceType value="MedicationRequest"/>
    <name value="Original Prescription"/>
  </instance>
  <instance>
    <resourceId value="3-2-dispense"/>
    <resourceType value="MedicationDispense"/>
    <name value="Ancilliary Dispense of a product"/>
  </instance>
  <instance>
    <resourceId value="3-2-prescription"/>
    <resourceType value="MedicationRequest"/>
    <name value="New Prescription"/>
  </instance>
  <process>
    <title value="Dispense of medication before a existing prescription"/>
    <description value="description"/>
    <preConditions value="After a GP visit, the patient Pia Peters (75 years) is prescribed diclofenac for arthritis.While making the dispense, the pharmacist understands that the patient has a history of stomachal ulcers. Since diclofenac creates stomachal irritations, the pharmacy also dispenses a stomach protector to prevent any case of stomach irritation or bleeding and advises to tell the information to the GP."/>
    <postConditions value="A new treatment and treatmentLine are created, inside the new treatment line, a prescription and dispense are contained and is possible to see which medication is associated with each."/>
    <step>
      <operation>
        <number value="1"/>
        <name value="Goes to appointment"/>
        <initiator value="PATIENT"/>
        <receiver value="GP"/>
      </operation>
    </step>
    <step>
      <operation>
        <number value="2"/>
        <name value="Get Patient&#39;s Medication"/>
        <initiator value="GP"/>
        <receiver value="VAULT"/>
        <response>
          <resourceId value="EB"/>
        </response>
      </operation>
    </step>
    <step>
      <operation>
        <number value="3"/>
        <name value="Create new prescription"/>
        <initiator value="GP"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="3-prescription"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="4"/>
        <name value="Create new treatment"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="3-treatment"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="5"/>
        <name value="Create new treatment Line"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="3-treatmentLine"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="6"/>
        <name value="Get patient&#39;s Prescriptions"/>
        <initiator value="PHARM"/>
        <receiver value="VAULT"/>
        <response>
          <resourceId value="EB"/>
        </response>
      </operation>
    </step>
    <step>
      <operation>
        <number value="7"/>
        <name value="Dispense original dispense"/>
        <initiator value="PHARM"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="3-dispense"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="8"/>
        <name value="Dispense ancilliary product"/>
        <initiator value="PHARM"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="3-2-dispense"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="9"/>
        <name value="Update treatment"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="3-treatment"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="10"/>
        <name value="Update treatment Line"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="3-treatmentLine"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="11"/>
        <name value="Report of situation"/>
        <initiator value="PHARM"/>
        <receiver value="GP"/>
      </operation>
    </step>
    <step>
      <operation>
        <number value="12"/>
        <name value="Goes to new appointment"/>
        <initiator value="PATIENT"/>
        <receiver value="GP"/>
      </operation>
    </step>
    <step>
      <operation>
        <number value="13"/>
        <name value="Get Patient&#39;s Medication"/>
        <initiator value="GP"/>
        <receiver value="VAULT"/>
        <response>
          <resourceId value="EB"/>
        </response>
      </operation>
    </step>
    <step>
      <operation>
        <number value="14"/>
        <name value="Create new prescription"/>
        <initiator value="GP"/>
        <receiver value="VAULT"/>
        <response>
          <resourceId value="3-2-prescription"/>
        </response>
      </operation>
    </step>
    <step>
      <operation>
        <number value="15"/>
        <name value="Update treatment"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="3-treatment"/>
        </request>
      </operation>
    </step>
    <step>
      <operation>
        <number value="16"/>
        <name value="Update treatment Line"/>
        <initiator value="VAULT"/>
        <receiver value="VAULT"/>
        <request>
          <resourceId value="3-treatmentLine"/>
        </request>
      </operation>
    </step>
  </process>
</ExampleScenario>